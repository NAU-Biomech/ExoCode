
double clamp(double val, double lower, double upper){
  return min(max(val, lower),upper);
}
